# Environmental Variables

Environmental variables for docker compose. Should be placed in a `.env` file in the same folder
with `docker-compose.yml` file

| Variable                     | Description                                                                                                                                                                                                                                          | Required | Default | More Details                                                                                          |
|:-----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:---------|:--------|:------------------------------------------------------------------------------------------------------|
| CMS_DB_USER                  | CMS Database user                                                                                                                                                                                                                                    | YES      |         |                                                                                                       |
| CMS_DB_NAME                  | CMS Database name                                                                                                                                                                                                                                    | YES      |         |                                                                                                       |
| CMS_DB_PASSWORD              | CMS Database password                                                                                                                                                                                                                                | YES      |         |
| CMS_DB_VOLUME                | Mounted docker volume path for persisting database data                                                                                                                                                                                              | YES      |         |                                                                                                       |
| CMS_DEBUG                    | A boolean that turns on/off debug mode. Never deploy a site into production with DEBUG turned on                                                                                                                                                     | NO       | False   |                                                                                                       |
| TIME_ZONE                    | A string representing the time zone for this installation. See the [list of time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones). Set this to your country timezone                                                             | NO       | UTC     | [List of tz database time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)        |
| SECRET_KEY                   | A secret key for a particular Django installation. This is used to provide cryptographic signing, and should be set to a unique, unpredictable value. Django will refuse to start if SECRET_KEY is not set                                           | YES      |         |                                                                                                       |
| ALLOWED_HOSTS                | A list of strings representing the host/domain names that this Django site can serve. This is a security measure to prevent HTTP Host header attacks, which are possible even under many seemingly-safe web server configurations.                   |          |         | [Django Allowed Hosts](https://docs.djangoproject.com/en/4.2/ref/settings/#std-setting-ALLOWED_HOSTS) |                                                                                                                                                                                                                          |          |         |                                                                                                       |
| SMTP_EMAIL_HOST              | The host to use for sending email                                                                                                                                                                                                                    | NO       |         |                                                                                                       |
| SMTP_EMAIL_PORT              | Port to use for the SMTP server defined in `SMTP_EMAIL_HOST`                                                                                                                                                                                         | NO       | 25      |                                                                                                       |
| SMTP_EMAIL_USE_TLS           | Whether to use a TLS (secure) connection when talking to the SMTP server. This is used for explicit TLS connections, generally on port 587                                                                                                           | NO       | True    |                                                                                                       |
| SMTP_EMAIL_HOST_USER         | Username to use for the SMTP server defined in `SMTP_EMAIL_HOST`. If empty, Django won’t attempt authentication.                                                                                                                                     | NO       |         |                                                                                                       |
| SMTP_EMAIL_HOST_PASSWORD     | Password to use for the SMTP server defined in `SMTP_EMAIL_HOST`. This setting is used in conjunction with `SMTP_EMAIL_HOST_USER` when authenticating to the SMTP server. If either of these settings is empty, Django won’t attempt authentication. |          |         |                                                                                                       |
| CMS_ADMINS                   | A list of all the people who get code error notifications, in format `"Name <name@example.com>, Another Name <another@example.com>"`                                                                                                                 |          |         |                                                                                                       |
| DEFAULT_FROM_EMAIL           | Default email address to use for various automated correspondence from the site manager(s)                                                                                                                                                           |          |         |                                                                                                       |
| RECAPTCHA_PUBLIC_KEY         | Google Recaptcha Public Key                                                                                                                                                                                                                          |          |         |                                                                                                       |
| RECAPTCHA_PRIVATE_KEY        | Google Recaptcha Private Key                                                                                                                                                                                                                         |          |         |                                                                                                       |
| CMS_NUM_OF_WORKERS           | Gunicorn number of workers. Recommended value should be `(2 x $num_cores) + 1 `. For example, if your server has `4 CPU Cores`, this value should be set to `9`, which is the result of `(2 x 4) + 1 = 9`                                            | YES      |         | [Gunicorn Workers details](https://docs.gunicorn.org/en/latest/design.html#how-many-workers)          |
| CMS_STATIC_VOLUME            | Mounted docker volume path for persisting CMS static files                                                                                                                                                                                           |          |         |                                                                                                       |
| CMS_MEDIA_VOLUME             | Mounted docker volume path for persisting CMS media files                                                                                                                                                                                            |          |         |                                                                                                       |
| MAPVIEWER_CMS_API            | CMS API Endpoint for MapViewer. This should be the public path to your CMS root url , followed by `/api`. For example `https://met.example.com/api`                                                                                                  |          |         |                                                                                                       |
| ANALYTICS_PROPERTY_ID        |                                                                                                                                                                                                                                                      |          |         |                                                                                                       |
| BITLY_TOKEN                  | [Bitly](https://bitly.com/) access token. The MapViewer uses Bitly for url shortening. See [here](https://dev.bitly.com/docs/getting-started/authentication/) on how to generate one                                                                 |          |         | [Bitly Auth Docs](https://dev.bitly.com/docs/getting-started/authentication/)                         |
| GOOGLE_CUSTOM_SEARCH_CX      |                                                                                                                                                                                                                                                      |          |         |                                                                                                       |
| GOOGLE_SEARCH_API_KEY        |                                                                                                                                                                                                                                                      |          |         |                                                                                                       |
| MAPVIEWER_NEXT_STATIC_VOLUME | Mounted docker volume path for MapViewer static files                                                                                                                                                                                                |          |         |                                                                                                       |

